{"timestamp": "2025-10-14T16:41:28.454618", "level": "INFO", "logger": "customer_bot", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 22}
{"timestamp": "2025-10-14T16:41:28.463210", "level": "INFO", "logger": "customer_bot", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-10-14T16:41:44.325474", "level": "INFO", "logger": "customer_bot", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 22}
{"timestamp": "2025-10-14T16:41:44.337118", "level": "INFO", "logger": "customer_bot", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-10-14T16:41:57.285431", "level": "INFO", "logger": "customer_bot", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 22}
{"timestamp": "2025-10-14T16:41:57.293834", "level": "INFO", "logger": "customer_bot", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-10-14T16:43:58.767307", "level": "INFO", "logger": "customer_bot", "message": "Shutting down Customer Bot application", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2025-10-14T16:43:58.768305", "level": "INFO", "logger": "customer_bot", "message": "Application shutdown complete", "module": "main", "function": "lifespan", "line": 44}
{"timestamp": "2025-10-14T16:44:13.568501", "level": "INFO", "logger": "customer_bot", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 22}
{"timestamp": "2025-10-14T16:44:13.580235", "level": "INFO", "logger": "customer_bot", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-10-14T16:44:28.523042", "level": "INFO", "logger": "customer_bot", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 22}
{"timestamp": "2025-10-14T16:44:28.531755", "level": "INFO", "logger": "customer_bot", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-10-14T16:44:45.062490", "level": "INFO", "logger": "customer_bot", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 22}
{"timestamp": "2025-10-14T16:44:45.074832", "level": "INFO", "logger": "customer_bot", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-10-14T16:44:59.802190", "level": "INFO", "logger": "customer_bot", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 22}
{"timestamp": "2025-10-14T16:44:59.812722", "level": "INFO", "logger": "customer_bot", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-10-14T16:45:12.465017", "level": "INFO", "logger": "customer_bot", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 22}
{"timestamp": "2025-10-14T16:45:12.473475", "level": "INFO", "logger": "customer_bot", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-10-14T16:46:12.674504", "level": "INFO", "logger": "customer_bot", "message": "Shutting down Customer Bot application", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2025-10-14T16:46:12.752183", "level": "INFO", "logger": "customer_bot", "message": "Application shutdown complete", "module": "main", "function": "lifespan", "line": 44}
{"timestamp": "2025-10-14T16:46:24.195347", "level": "INFO", "logger": "customer_bot", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 22}
{"timestamp": "2025-10-14T16:46:24.202647", "level": "INFO", "logger": "customer_bot", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-10-15T00:03:33.743533", "level": "INFO", "logger": "customer_bot", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 22}
{"timestamp": "2025-10-15T00:03:33.757533", "level": "INFO", "logger": "customer_bot", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-10-15T01:34:12.616852", "level": "INFO", "logger": "customer_bot", "message": "GET / - 404", "module": "error_handler", "function": "dispatch", "line": 27, "response_time": 0.0009968280792236328}
{"timestamp": "2025-10-15T01:34:13.059849", "level": "INFO", "logger": "customer_bot", "message": "GET /favicon.ico - 404", "module": "error_handler", "function": "dispatch", "line": 27, "response_time": 0.0}
{"timestamp": "2025-10-15T01:39:16.764458", "level": "INFO", "logger": "customer_bot", "message": "GET /health - 200", "module": "error_handler", "function": "dispatch", "line": 27, "response_time": 0.004002571105957031}
{"timestamp": "2025-10-15T01:39:47.421983", "level": "INFO", "logger": "customer_bot", "message": "GET /docs - 200", "module": "error_handler", "function": "dispatch", "line": 27, "response_time": 0.0}
{"timestamp": "2025-10-15T01:39:47.672646", "level": "INFO", "logger": "customer_bot", "message": "GET /openapi.json - 200", "module": "error_handler", "function": "dispatch", "line": 27, "response_time": 0.01999664306640625}
{"timestamp": "2025-10-15T01:49:24.367750", "level": "INFO", "logger": "customer_bot", "message": "Shutting down Customer Bot application", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2025-10-15T01:50:39.649493", "level": "INFO", "logger": "customer_bot", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 22}
{"timestamp": "2025-10-15T01:50:39.674499", "level": "INFO", "logger": "customer_bot", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-10-15T02:43:09.003763", "level": "INFO", "logger": "customer_bot", "message": "Shutting down Customer Bot application", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2025-10-15T02:43:09.004792", "level": "INFO", "logger": "customer_bot", "message": "Application shutdown complete", "module": "main", "function": "lifespan", "line": 44}
{"timestamp": "2025-10-15T10:44:41.320472", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 23}
{"timestamp": "2025-10-15T10:44:41.334472", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 32}
{"timestamp": "2025-10-15T10:44:41.335473", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-10-15T10:44:44.492091", "level": "INFO", "logger": "customer_bot.app", "message": "Shutting down Customer Bot application", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-10-15T10:44:44.493090", "level": "INFO", "logger": "customer_bot.app", "message": "Application shutdown complete", "module": "main", "function": "lifespan", "line": 41}
{"timestamp": "2025-10-15T10:44:54.284692", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 23}
{"timestamp": "2025-10-15T10:44:54.290716", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 32}
{"timestamp": "2025-10-15T10:44:54.290716", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-10-15T10:45:07.030114", "level": "INFO", "logger": "customer_bot.app", "message": "Shutting down Customer Bot application", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-10-15T10:45:07.030114", "level": "INFO", "logger": "customer_bot.app", "message": "Application shutdown complete", "module": "main", "function": "lifespan", "line": 41}
{"timestamp": "2025-10-15T10:45:17.117625", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 23}
{"timestamp": "2025-10-15T10:45:17.122624", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 32}
{"timestamp": "2025-10-15T10:45:17.123627", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-10-15T10:45:21.894819", "level": "INFO", "logger": "customer_bot.app", "message": "Shutting down Customer Bot application", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-10-15T10:45:21.894819", "level": "INFO", "logger": "customer_bot.app", "message": "Application shutdown complete", "module": "main", "function": "lifespan", "line": 41}
{"timestamp": "2025-10-15T10:45:30.296462", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 23}
{"timestamp": "2025-10-15T10:45:30.301646", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 32}
{"timestamp": "2025-10-15T10:45:30.302460", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-10-15T10:45:38.625317", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 23}
{"timestamp": "2025-10-15T10:45:38.631318", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 32}
{"timestamp": "2025-10-15T10:45:38.631318", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-10-15T10:45:54.409282", "level": "INFO", "logger": "customer_bot.middleware", "message": "GET / - 404", "module": "error_handler", "function": "dispatch", "line": 31, "response_time": 0.0010037422180175781}
{"timestamp": "2025-10-15T10:45:54.816273", "level": "INFO", "logger": "customer_bot.middleware", "message": "GET /favicon.ico - 404", "module": "error_handler", "function": "dispatch", "line": 31, "response_time": 0.0}
{"timestamp": "2025-10-15T10:45:57.074655", "level": "INFO", "logger": "customer_bot.middleware", "message": "GET / - 404", "module": "error_handler", "function": "dispatch", "line": 31, "response_time": 0.0009989738464355469}
{"timestamp": "2025-10-15T10:46:02.641579", "level": "INFO", "logger": "customer_bot.middleware", "message": "GET /docs - 200", "module": "error_handler", "function": "dispatch", "line": 31, "response_time": 0.0}
{"timestamp": "2025-10-15T10:46:02.880011", "level": "INFO", "logger": "customer_bot.middleware", "message": "GET /openapi.json - 200", "module": "error_handler", "function": "dispatch", "line": 31, "response_time": 0.01000070571899414}
{"timestamp": "2025-10-15T10:46:51.031254", "level": "ERROR", "logger": "customer_bot.error", "message": "Error occurred: (sqlite3.OperationalError) table chat_sessions has no column named expires_at\n[SQL: INSERT INTO chat_sessions (id, created_at, updated_at, expires_at, is_active, message_count, last_activity) VALUES (?, ?, ?, ?, ?, ?, ?)]\n[parameters: ('02a703a0-ad1b-4920-8206-62c59b89c12b', '2025-10-15 10:46:50.831474', '2025-10-15 10:46:50.831474', '2025-10-16 10:46:50.815582', 1, 0, '2025-10-15 10:46:50.831474')]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "logger", "function": "log_error", "line": 135, "exception": "Traceback (most recent call last):\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 941, in do_execute\n    cursor.execute(statement, parameters)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 147, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 129, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\aiosqlite\\core.py\", line 132, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\aiosqlite\\core.py\", line 115, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table chat_sessions has no column named expires_at\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"E:\\Projects\\Customer_Bot\\backend\\app\\api\\chat.py\", line 23, in chat\n    session = await service.get_or_create_session(req.session_id)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\backend\\app\\services\\session_manager.py\", line 48, in get_or_create_session\n    await self.db.flush()\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 800, in flush\n    await greenlet_spawn(self.sync_session.flush, objects=objects)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 203, in greenlet_spawn\n    result = context.switch(value)\n             ^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4352, in flush\n    self._flush(objects)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4487, in _flush\n    with util.safe_reraise():\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4448, in _flush\n    flush_context.execute()\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1418, in execute\n    return meth(\n           ^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\sql\\elements.py\", line 515, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1640, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2355, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 941, in do_execute\n    cursor.execute(statement, parameters)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 147, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 129, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\aiosqlite\\core.py\", line 132, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\aiosqlite\\core.py\", line 115, in run\n    result = function()\n             ^^^^^^^^^^\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) table chat_sessions has no column named expires_at\n[SQL: INSERT INTO chat_sessions (id, created_at, updated_at, expires_at, is_active, message_count, last_activity) VALUES (?, ?, ?, ?, ?, ?, ?)]\n[parameters: ('02a703a0-ad1b-4920-8206-62c59b89c12b', '2025-10-15 10:46:50.831474', '2025-10-15 10:46:50.831474', '2025-10-16 10:46:50.815582', 1, 0, '2025-10-15 10:46:50.831474')]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "session_id": null, "response_time": 6.195446014404297}
{"timestamp": "2025-10-15T10:46:51.080254", "level": "ERROR", "logger": "customer_bot.middleware", "message": "Unexpected error: (sqlite3.OperationalError) table chat_sessions has no column named expires_at\n[SQL: INSERT INTO chat_sessions (id, created_at, updated_at, expires_at, is_active, message_count, last_activity) VALUES (?, ?, ?, ?, ?, ?, ?)]\n[parameters: ('02a703a0-ad1b-4920-8206-62c59b89c12b', '2025-10-15 10:46:50.831474', '2025-10-15 10:46:50.831474', '2025-10-16 10:46:50.815582', 1, 0, '2025-10-15 10:46:50.831474')]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "error_handler", "function": "dispatch", "line": 81, "exception": "Traceback (most recent call last):\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 941, in do_execute\n    cursor.execute(statement, parameters)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 147, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 129, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\aiosqlite\\core.py\", line 132, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\aiosqlite\\core.py\", line 115, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table chat_sessions has no column named expires_at\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"E:\\Projects\\Customer_Bot\\backend\\app\\middleware\\error_handler.py\", line 27, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\fastapi\\routing.py\", line 123, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\fastapi\\routing.py\", line 109, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\fastapi\\routing.py\", line 387, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\fastapi\\routing.py\", line 288, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\backend\\app\\api\\chat.py\", line 23, in chat\n    session = await service.get_or_create_session(req.session_id)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\backend\\app\\services\\session_manager.py\", line 48, in get_or_create_session\n    await self.db.flush()\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 800, in flush\n    await greenlet_spawn(self.sync_session.flush, objects=objects)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 203, in greenlet_spawn\n    result = context.switch(value)\n             ^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4352, in flush\n    self._flush(objects)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4487, in _flush\n    with util.safe_reraise():\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4448, in _flush\n    flush_context.execute()\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1418, in execute\n    return meth(\n           ^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\sql\\elements.py\", line 515, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1640, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2355, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 941, in do_execute\n    cursor.execute(statement, parameters)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 147, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 129, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\aiosqlite\\core.py\", line 132, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\aiosqlite\\core.py\", line 115, in run\n    result = function()\n             ^^^^^^^^^^\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) table chat_sessions has no column named expires_at\n[SQL: INSERT INTO chat_sessions (id, created_at, updated_at, expires_at, is_active, message_count, last_activity) VALUES (?, ?, ?, ?, ?, ?, ?)]\n[parameters: ('02a703a0-ad1b-4920-8206-62c59b89c12b', '2025-10-15 10:46:50.831474', '2025-10-15 10:46:50.831474', '2025-10-16 10:46:50.815582', 1, 0, '2025-10-15 10:46:50.831474')]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "response_time": 6.3992698192596436}
{"timestamp": "2025-10-15T10:46:51.091255", "level": "INFO", "logger": "customer_bot.performance", "message": "Slow request: POST /api/chat - 6.454s", "module": "error_handler", "function": "dispatch", "line": 116, "response_time": 6.454272747039795}
{"timestamp": "2025-10-15T10:47:32.923114", "level": "INFO", "logger": "customer_bot.middleware", "message": "GET /docs - 200", "module": "error_handler", "function": "dispatch", "line": 31, "response_time": 0.0019969940185546875}
{"timestamp": "2025-10-15T10:47:33.057112", "level": "INFO", "logger": "customer_bot.middleware", "message": "GET /openapi.json - 200", "module": "error_handler", "function": "dispatch", "line": 31, "response_time": 0.0010004043579101562}
{"timestamp": "2025-10-15T10:47:53.075966", "level": "ERROR", "logger": "customer_bot.error", "message": "Error occurred: (sqlite3.OperationalError) table chat_sessions has no column named expires_at\n[SQL: INSERT INTO chat_sessions (id, created_at, updated_at, expires_at, is_active, message_count, last_activity) VALUES (?, ?, ?, ?, ?, ?, ?)]\n[parameters: ('50693a44-3212-4346-b3fb-81cb90cd61aa', '2025-10-15 10:47:53.059121', '2025-10-15 10:47:53.059121', '2025-10-16 10:47:53.051131', 1, 0, '2025-10-15 10:47:53.059121')]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "logger", "function": "log_error", "line": 135, "exception": "Traceback (most recent call last):\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 941, in do_execute\n    cursor.execute(statement, parameters)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 147, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 129, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\aiosqlite\\core.py\", line 132, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\aiosqlite\\core.py\", line 115, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table chat_sessions has no column named expires_at\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"E:\\Projects\\Customer_Bot\\backend\\app\\api\\chat.py\", line 23, in chat\n    session = await service.get_or_create_session(req.session_id)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\backend\\app\\services\\session_manager.py\", line 48, in get_or_create_session\n    await self.db.flush()\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 800, in flush\n    await greenlet_spawn(self.sync_session.flush, objects=objects)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 203, in greenlet_spawn\n    result = context.switch(value)\n             ^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4352, in flush\n    self._flush(objects)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4487, in _flush\n    with util.safe_reraise():\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4448, in _flush\n    flush_context.execute()\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1418, in execute\n    return meth(\n           ^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\sql\\elements.py\", line 515, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1640, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2355, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 941, in do_execute\n    cursor.execute(statement, parameters)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 147, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 129, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\aiosqlite\\core.py\", line 132, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\aiosqlite\\core.py\", line 115, in run\n    result = function()\n             ^^^^^^^^^^\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) table chat_sessions has no column named expires_at\n[SQL: INSERT INTO chat_sessions (id, created_at, updated_at, expires_at, is_active, message_count, last_activity) VALUES (?, ?, ?, ?, ?, ?, ?)]\n[parameters: ('50693a44-3212-4346-b3fb-81cb90cd61aa', '2025-10-15 10:47:53.059121', '2025-10-15 10:47:53.059121', '2025-10-16 10:47:53.051131', 1, 0, '2025-10-15 10:47:53.059121')]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "session_id": null, "response_time": 4.129260063171387}
{"timestamp": "2025-10-15T10:47:53.094967", "level": "ERROR", "logger": "customer_bot.middleware", "message": "Unexpected error: (sqlite3.OperationalError) table chat_sessions has no column named expires_at\n[SQL: INSERT INTO chat_sessions (id, created_at, updated_at, expires_at, is_active, message_count, last_activity) VALUES (?, ?, ?, ?, ?, ?, ?)]\n[parameters: ('50693a44-3212-4346-b3fb-81cb90cd61aa', '2025-10-15 10:47:53.059121', '2025-10-15 10:47:53.059121', '2025-10-16 10:47:53.051131', 1, 0, '2025-10-15 10:47:53.059121')]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "error_handler", "function": "dispatch", "line": 81, "exception": "Traceback (most recent call last):\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 941, in do_execute\n    cursor.execute(statement, parameters)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 147, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 129, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\aiosqlite\\core.py\", line 132, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\aiosqlite\\core.py\", line 115, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table chat_sessions has no column named expires_at\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"E:\\Projects\\Customer_Bot\\backend\\app\\middleware\\error_handler.py\", line 27, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\fastapi\\routing.py\", line 123, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\fastapi\\routing.py\", line 109, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\fastapi\\routing.py\", line 387, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\fastapi\\routing.py\", line 288, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\backend\\app\\api\\chat.py\", line 23, in chat\n    session = await service.get_or_create_session(req.session_id)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\backend\\app\\services\\session_manager.py\", line 48, in get_or_create_session\n    await self.db.flush()\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 800, in flush\n    await greenlet_spawn(self.sync_session.flush, objects=objects)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 203, in greenlet_spawn\n    result = context.switch(value)\n             ^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4352, in flush\n    self._flush(objects)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4487, in _flush\n    with util.safe_reraise():\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4448, in _flush\n    flush_context.execute()\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1418, in execute\n    return meth(\n           ^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\sql\\elements.py\", line 515, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1640, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2355, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 941, in do_execute\n    cursor.execute(statement, parameters)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 147, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 129, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\aiosqlite\\core.py\", line 132, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\aiosqlite\\core.py\", line 115, in run\n    result = function()\n             ^^^^^^^^^^\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) table chat_sessions has no column named expires_at\n[SQL: INSERT INTO chat_sessions (id, created_at, updated_at, expires_at, is_active, message_count, last_activity) VALUES (?, ?, ?, ?, ?, ?, ?)]\n[parameters: ('50693a44-3212-4346-b3fb-81cb90cd61aa', '2025-10-15 10:47:53.059121', '2025-10-15 10:47:53.059121', '2025-10-16 10:47:53.051131', 1, 0, '2025-10-15 10:47:53.059121')]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "response_time": 4.153312683105469}
{"timestamp": "2025-10-15T10:47:53.102998", "level": "INFO", "logger": "customer_bot.performance", "message": "Slow request: POST /api/chat - 4.170s", "module": "error_handler", "function": "dispatch", "line": 116, "response_time": 4.170334100723267}
{"timestamp": "2025-10-15T10:48:42.181994", "level": "INFO", "logger": "customer_bot.app", "message": "Shutting down Customer Bot application", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-10-15T10:48:42.181994", "level": "INFO", "logger": "customer_bot.app", "message": "Application shutdown complete", "module": "main", "function": "lifespan", "line": 41}
{"timestamp": "2025-10-15T10:48:54.919565", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T10:48:54.954561", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T10:48:54.954561", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T10:49:03.213132", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T10:49:03.220130", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T10:49:03.220130", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T10:49:06.376209", "level": "INFO", "logger": "customer_bot.app", "message": "Shutting down Customer Bot application", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-10-15T10:49:06.377198", "level": "INFO", "logger": "customer_bot.app", "message": "Application shutdown complete", "module": "main", "function": "lifespan", "line": 59}
{"timestamp": "2025-10-15T10:49:15.638275", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T10:49:15.644277", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T10:49:15.644277", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T10:49:22.544940", "level": "ERROR", "logger": "customer_bot.error", "message": "Error occurred: 'Logger' object has no attribute 'info'", "module": "logger", "function": "log_error", "line": 135, "exception": "Traceback (most recent call last):\n  File \"E:\\Projects\\Customer_Bot\\backend\\app\\api\\chat.py\", line 23, in chat\n    session = await service.get_or_create_session(req.session_id)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\backend\\app\\services\\session_manager.py\", line 50, in get_or_create_session\n    logger.info(f\"Created new session: {session.id}\")\n    ^^^^^^^^^^^\nAttributeError: 'Logger' object has no attribute 'info'", "session_id": null, "response_time": 6.885662078857422}
{"timestamp": "2025-10-15T10:49:22.574739", "level": "ERROR", "logger": "customer_bot.middleware", "message": "Unexpected error: 'Logger' object has no attribute 'info'", "module": "error_handler", "function": "dispatch", "line": 81, "exception": "Traceback (most recent call last):\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"E:\\Projects\\Customer_Bot\\backend\\app\\middleware\\error_handler.py\", line 27, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\fastapi\\routing.py\", line 123, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\fastapi\\routing.py\", line 109, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\fastapi\\routing.py\", line 387, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\.venv\\Lib\\site-packages\\fastapi\\routing.py\", line 288, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\backend\\app\\api\\chat.py\", line 23, in chat\n    session = await service.get_or_create_session(req.session_id)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Projects\\Customer_Bot\\backend\\app\\services\\session_manager.py\", line 50, in get_or_create_session\n    logger.info(f\"Created new session: {session.id}\")\n    ^^^^^^^^^^^\nAttributeError: 'Logger' object has no attribute 'info'", "response_time": 6.89361834526062}
{"timestamp": "2025-10-15T10:49:22.577773", "level": "INFO", "logger": "customer_bot.performance", "message": "Slow request: POST /api/chat - 6.922s", "module": "error_handler", "function": "dispatch", "line": 116, "response_time": 6.922497272491455}
{"timestamp": "2025-10-15T10:50:58.751785", "level": "INFO", "logger": "customer_bot.app", "message": "Shutting down Customer Bot application", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-10-15T10:50:58.751785", "level": "INFO", "logger": "customer_bot.app", "message": "Application shutdown complete", "module": "main", "function": "lifespan", "line": 59}
{"timestamp": "2025-10-15T10:51:10.886194", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T10:51:10.908188", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T10:51:10.909197", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T10:51:18.115854", "level": "INFO", "logger": "customer_bot.app", "message": "Shutting down Customer Bot application", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-10-15T10:51:18.123852", "level": "INFO", "logger": "customer_bot.app", "message": "Application shutdown complete", "module": "main", "function": "lifespan", "line": 59}
{"timestamp": "2025-10-15T10:51:29.289184", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T10:51:29.297184", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T10:51:29.297184", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T11:11:59.440391", "level": "INFO", "logger": "customer_bot.session", "message": "Created new session: 20114eb6-15c9-41fb-a984-f16f6dc4ec18", "module": "session_manager", "function": "get_or_create_session", "line": 51}
{"timestamp": "2025-10-15T11:12:28.504483", "level": "INFO", "logger": "customer_bot.chat", "message": "Chat interaction completed", "module": "logger", "function": "log_chat_interaction", "line": 114, "session_id": "20114eb6-15c9-41fb-a984-f16f6dc4ec18", "response_time": 34.85676622390747, "confidence_score": 0.913312912}
{"timestamp": "2025-10-15T11:12:28.623467", "level": "INFO", "logger": "customer_bot.middleware", "message": "POST /api/chat - 200", "module": "error_handler", "function": "dispatch", "line": 31, "response_time": 34.986716508865356}
{"timestamp": "2025-10-15T11:12:28.624466", "level": "INFO", "logger": "customer_bot.performance", "message": "Slow request: POST /api/chat - 34.988s", "module": "error_handler", "function": "dispatch", "line": 116, "response_time": 34.98771595954895}
{"timestamp": "2025-10-15T11:12:58.331422", "level": "INFO", "logger": "customer_bot.chat", "message": "Chat interaction completed", "module": "logger", "function": "log_chat_interaction", "line": 114, "session_id": "20114eb6-15c9-41fb-a984-f16f6dc4ec18", "response_time": 23.466920137405396, "confidence_score": 0.786036611}
{"timestamp": "2025-10-15T11:12:58.396413", "level": "INFO", "logger": "customer_bot.middleware", "message": "POST /api/chat - 200", "module": "error_handler", "function": "dispatch", "line": 31, "response_time": 23.533900260925293}
{"timestamp": "2025-10-15T11:12:58.396413", "level": "INFO", "logger": "customer_bot.performance", "message": "Slow request: POST /api/chat - 23.535s", "module": "error_handler", "function": "dispatch", "line": 116, "response_time": 23.53491497039795}
{"timestamp": "2025-10-15T11:13:48.890683", "level": "INFO", "logger": "customer_bot.app", "message": "Shutting down Customer Bot application", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-10-15T11:13:48.938678", "level": "INFO", "logger": "customer_bot.app", "message": "Application shutdown complete", "module": "main", "function": "lifespan", "line": 59}
{"timestamp": "2025-10-15T11:14:04.532750", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T11:14:04.543782", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T11:14:04.543782", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T11:16:21.252695", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T11:16:21.258698", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T11:16:21.259701", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T11:16:31.524118", "level": "INFO", "logger": "customer_bot.app", "message": "Shutting down Customer Bot application", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-10-15T11:16:31.525117", "level": "INFO", "logger": "customer_bot.app", "message": "Application shutdown complete", "module": "main", "function": "lifespan", "line": 59}
{"timestamp": "2025-10-15T11:16:41.216416", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T11:16:41.221447", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T11:16:41.222413", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T11:24:23.594427", "level": "INFO", "logger": "customer_bot.app", "message": "Shutting down Customer Bot application", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-10-15T11:24:23.607425", "level": "INFO", "logger": "customer_bot.app", "message": "Application shutdown complete", "module": "main", "function": "lifespan", "line": 59}
{"timestamp": "2025-10-15T11:24:32.536738", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T11:24:32.542741", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T11:24:32.542741", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T13:04:06.405841", "level": "INFO", "logger": "customer_bot.app", "message": "Shutting down Customer Bot application", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-10-15T13:04:06.410868", "level": "INFO", "logger": "customer_bot.app", "message": "Application shutdown complete", "module": "main", "function": "lifespan", "line": 59}
{"timestamp": "2025-10-15T13:04:28.669127", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T13:04:28.688165", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T13:04:28.688165", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T13:04:42.686423", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T13:04:42.696299", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T13:04:42.697301", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T13:04:56.915385", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T13:04:56.925390", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T13:04:56.927386", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T13:05:11.988787", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T13:05:12.001762", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T13:05:12.002762", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T13:05:25.812656", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T13:05:25.823537", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T13:05:25.824544", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T13:05:38.462634", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T13:05:38.470819", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T13:05:38.470819", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T13:05:53.097173", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T13:05:53.107777", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T13:05:53.107777", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T13:06:06.524060", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T13:06:06.538645", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T13:06:06.539717", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T13:06:20.329248", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T13:06:20.338872", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T13:06:20.339877", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T13:06:34.766738", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T13:06:34.776313", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T13:06:34.777311", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T13:06:46.759089", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T13:06:46.767640", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T13:06:46.768715", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T13:06:58.678014", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T13:06:58.691155", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T13:06:58.691155", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T13:07:08.886670", "level": "INFO", "logger": "customer_bot.app", "message": "Shutting down Customer Bot application", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-10-15T13:07:08.887710", "level": "INFO", "logger": "customer_bot.app", "message": "Application shutdown complete", "module": "main", "function": "lifespan", "line": 59}
{"timestamp": "2025-10-15T13:07:23.193581", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T13:07:23.202672", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T13:07:23.203676", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T13:07:38.084401", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T13:07:38.095547", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T13:07:38.095547", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T13:07:58.325462", "level": "INFO", "logger": "customer_bot.app", "message": "Shutting down Customer Bot application", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-10-15T13:07:58.325462", "level": "INFO", "logger": "customer_bot.app", "message": "Application shutdown complete", "module": "main", "function": "lifespan", "line": 59}
{"timestamp": "2025-10-15T13:08:11.686264", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T13:08:11.702786", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T13:08:11.703005", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T13:08:25.457815", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T13:08:25.466975", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T13:08:25.467975", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T13:08:39.456537", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T13:08:39.465771", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T13:08:39.466776", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T13:08:55.039813", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T13:08:55.049442", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T13:08:55.049442", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T13:09:09.817469", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T13:09:09.827466", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T13:09:09.828727", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T13:09:22.992308", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T13:09:23.003852", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T13:09:23.003852", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T13:09:38.110056", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T13:09:38.122924", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T13:09:38.122924", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T13:09:56.077784", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T13:09:56.090785", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T13:09:56.090785", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T13:09:59.847390", "level": "INFO", "logger": "customer_bot.app", "message": "Shutting down Customer Bot application", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-10-15T13:09:59.847390", "level": "INFO", "logger": "customer_bot.app", "message": "Application shutdown complete", "module": "main", "function": "lifespan", "line": 59}
{"timestamp": "2025-10-15T13:10:13.812420", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T13:10:13.824967", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T13:10:13.826046", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T13:10:29.279562", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T13:10:29.293315", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T13:10:29.293315", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T13:10:42.682145", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T13:10:42.693922", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T13:10:42.693922", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T13:19:16.690874", "level": "INFO", "logger": "customer_bot.app", "message": "Shutting down Customer Bot application", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-10-15T13:19:16.691872", "level": "INFO", "logger": "customer_bot.app", "message": "Application shutdown complete", "module": "main", "function": "lifespan", "line": 59}
{"timestamp": "2025-10-15T13:19:26.799168", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T13:19:26.807168", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T13:19:26.808171", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T13:19:35.979372", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T13:19:35.985376", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T13:19:35.985376", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T13:19:44.876608", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T13:19:44.884607", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T13:19:44.884607", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T13:19:45.319961", "level": "INFO", "logger": "customer_bot.app", "message": "Shutting down Customer Bot application", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-10-15T13:19:45.320963", "level": "INFO", "logger": "customer_bot.app", "message": "Application shutdown complete", "module": "main", "function": "lifespan", "line": 59}
{"timestamp": "2025-10-15T13:19:55.347055", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T13:19:55.354054", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T13:19:55.354054", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T13:20:04.335970", "level": "INFO", "logger": "customer_bot.app", "message": "Starting Customer Bot application", "module": "main", "function": "lifespan", "line": 24}
{"timestamp": "2025-10-15T13:20:04.340973", "level": "INFO", "logger": "customer_bot.app", "message": "Background tasks initialized", "module": "main", "function": "lifespan", "line": 50}
{"timestamp": "2025-10-15T13:20:04.340973", "level": "INFO", "logger": "customer_bot.app", "message": "Application startup complete", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-10-15T13:49:33.510044", "level": "INFO", "logger": "customer_bot.middleware", "message": "GET /health - 200", "module": "error_handler", "function": "dispatch", "line": 31, "response_time": 0.01800084114074707}
{"timestamp": "2025-10-15T13:52:33.209695", "level": "INFO", "logger": "customer_bot.middleware", "message": "GET /health - 200", "module": "error_handler", "function": "dispatch", "line": 31, "response_time": 0.0010004043579101562}
{"timestamp": "2025-10-15T14:02:35.386893", "level": "INFO", "logger": "customer_bot.middleware", "message": "GET /health - 200", "module": "error_handler", "function": "dispatch", "line": 31, "response_time": 0.0013720989227294922}
{"timestamp": "2025-10-15T14:02:50.831390", "level": "INFO", "logger": "customer_bot.session", "message": "Created new session: 94693981-1fc1-42eb-bd60-2dfbdbda4dee", "module": "session_manager", "function": "get_or_create_session", "line": 51}
{"timestamp": "2025-10-15T14:03:15.049030", "level": "INFO", "logger": "customer_bot.chat", "message": "Chat interaction completed", "module": "logger", "function": "log_chat_interaction", "line": 114, "session_id": "94693981-1fc1-42eb-bd60-2dfbdbda4dee", "response_time": 32.31356954574585, "confidence_score": 0.897001266}
{"timestamp": "2025-10-15T14:03:15.115912", "level": "INFO", "logger": "customer_bot.middleware", "message": "POST /api/chat - 200", "module": "error_handler", "function": "dispatch", "line": 31, "response_time": 32.45541787147522}
{"timestamp": "2025-10-15T14:03:15.116914", "level": "INFO", "logger": "customer_bot.performance", "message": "Slow request: POST /api/chat - 32.455s", "module": "error_handler", "function": "dispatch", "line": 116, "response_time": 32.45541787147522}
{"timestamp": "2025-10-15T14:03:44.771581", "level": "INFO", "logger": "customer_bot.chat", "message": "Chat interaction completed", "module": "logger", "function": "log_chat_interaction", "line": 114, "session_id": "94693981-1fc1-42eb-bd60-2dfbdbda4dee", "response_time": 24.80601716041565, "confidence_score": 0.813484251}
{"timestamp": "2025-10-15T14:03:44.823585", "level": "INFO", "logger": "customer_bot.middleware", "message": "POST /api/chat - 200", "module": "error_handler", "function": "dispatch", "line": 31, "response_time": 24.85904312133789}
{"timestamp": "2025-10-15T14:03:44.823585", "level": "INFO", "logger": "customer_bot.performance", "message": "Slow request: POST /api/chat - 24.860s", "module": "error_handler", "function": "dispatch", "line": 116, "response_time": 24.860044240951538}
{"timestamp": "2025-10-15T14:04:25.510471", "level": "INFO", "logger": "customer_bot.chat", "message": "Chat interaction completed", "module": "logger", "function": "log_chat_interaction", "line": 114, "session_id": "94693981-1fc1-42eb-bd60-2dfbdbda4dee", "response_time": 27.847707271575928, "confidence_score": 0.838777542}
{"timestamp": "2025-10-15T14:04:25.609473", "level": "INFO", "logger": "customer_bot.middleware", "message": "POST /api/chat - 200", "module": "error_handler", "function": "dispatch", "line": 31, "response_time": 27.948737859725952}
{"timestamp": "2025-10-15T14:04:25.612471", "level": "INFO", "logger": "customer_bot.performance", "message": "Slow request: POST /api/chat - 27.952s", "module": "error_handler", "function": "dispatch", "line": 116, "response_time": 27.95175004005432}
{"timestamp": "2025-10-15T14:05:37.055899", "level": "INFO", "logger": "customer_bot.chat", "message": "Chat interaction completed", "module": "logger", "function": "log_chat_interaction", "line": 114, "session_id": "94693981-1fc1-42eb-bd60-2dfbdbda4dee", "response_time": 36.25748825073242, "confidence_score": 0.822592795}
{"timestamp": "2025-10-15T14:05:37.109910", "level": "INFO", "logger": "customer_bot.middleware", "message": "POST /api/chat - 200", "module": "error_handler", "function": "dispatch", "line": 31, "response_time": 36.31549692153931}
{"timestamp": "2025-10-15T14:05:37.111922", "level": "INFO", "logger": "customer_bot.performance", "message": "Slow request: POST /api/chat - 36.317s", "module": "error_handler", "function": "dispatch", "line": 116, "response_time": 36.31652760505676}
